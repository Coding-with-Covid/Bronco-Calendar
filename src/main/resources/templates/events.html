<!DOCTYPE html>

<!-- This part is for the top navigation bar (Home, Calendar, Events, Login) -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Bronco Calendar Events</title>
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <style>
		    body,h1,h2,h3,h4,h5,h6 {
			    font-family: "Raleway", Arial, Helvetica, sans-serif
		    }
	    </style>
    </head>

    <body>
        <div class="w3-bar w3-white w3-large">
            <a onclick="goBack()" class="w3-bar-item w3-button w3-green w3-mobile"><i class="fa fa-arrow-left w3-margin-right"></i>Back</a>
        </div>
        
        <script>
			function goBack() {
  				window.history.back();
		}
		</script>
    </body>
</html>

<!-- This part is for the events themselves -->
<!-- This section uses AngularJS -->
<html ng-app="appEvents" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Bronco Calendar Events</title>
        <link rel="stylesheet" th:href="@{events.css}" type="text/css"/>
        <link rel="stylesheet" href="../static/events.css" type="text/css">

        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
        <script src="js/events.js"></script>

        <style>
		    body,h1,h2,h3,h4,h5,h6 {
			    font-family: "Raleway", Arial, Helvetica, sans-serif
		    }
	    </style>
    </head>

    <!-- Have this whole body repeat itself for every event -->
    <body ng-controller="EventsCtrl">
        <div class="wrapper" >
            <div class="event_post" th:each="event: ${event}">
                <div class="left_pane">
                    <div class="img_pod">
                        <img th:src="${event.img}" onerror="this.onerror=null; 
                        this.src='https://www.cpp.edu/outreach/img/outreach_landing-page/billybronco'" 
                        alt="No image"> 
                    </div>
                    <h3 class="month" th:text="${event.month} + ' ' + ${event.date}">November 14</h3>
                    <h3 class="time" th:text="${event.time}">Time</h3>
                </div>
                <div class="container_copy">
                    <h1 class="title" th:text="${event.title}">Some long ass title here
                        Civic Talks presented by ASI Governmental Affairs
                    </h1>

                    <button type="button" th:onclick="addUserEvent([[${event.title}]], [[${event.dateTime}]])">Save event</button>

                    <h5 class="hostedBy" th:text="${event.hostedBy}" alt="cpp">Some long ass host name
                        here Civic Talks presented by ASI Governmental Affairs
                    </h5>
                    <h4 class="location" th:text="${event.location}">location</h4>
                    <p class="desc" th:text="${event.desc}">Some big ass description here Lorem 
                        ipsum dolor sit amet, consectetur adipisicing elit. Nesciunt optio ea 
                        dolor maiores facere cum corrupti at tenetur accusamus ipsam officia 
                        odio pariatur esse sed magnam, dolorum veniam molestias ratione?</p>
                </div>                    

            </div>  
        </div>
    </body>

    <script>
        function addUserEvent(title, time) {
            var calendarEvent = {
                title: title,
                time: time
            };
            var json = JSON.stringify(calendarEvent);

            // write JSON string to page just for testing purposes
            //document.write(json)
        }
    </script>
</html>